
<h3>Payslip</h3>

<div  ng-controller="PayslipController" >
   
       

   <div class="col-lg-12" style="float:left;">
      <form class="form-inline">
  <div class="input-group mb-2 mr-sm-2 mb-sm-0">
    <div class="input-group-addon">Period</div>
  
         <select name="period" class="slider slider-lg form-control" ng-model="user.period" ng-options="period.id as period.period+' - '+period.monthDescription+' '+peiod.year for period in periods" ng-change="searchpayslipByperiod(user.period)" >
        <option value="" disabled selected>Periods</option>
  </select>
  </div>
  <div class="input-group mb-2 mr-sm-2 mb-sm-0">
    <div class="input-group-addon">Employee Number</div>
    <select name="employeeNumber" class="slider slider-lg form-control" ng-model="user.employeeNumber" ng-options="employee.id as employee.employeeNumber for employee in employees" >
        <option value="" disabled selected>All Employees</option>
  </select>
  </div>
  <button type="submit" ng-click="searchPayslip(user)" class="btn btn-primary"><i class="fa fa-search" aria-hidden="true"></i></button>
<div class="col-lg-2 text-right" style="float: right;" ng-show="persons.length" >
               
  <button type="button" class="btn btn-primary" ng-disabled="curPage == 0"
 ng-click="curPage=curPage-1"> Previous</button>

                   
<button type="button" class="btn btn-primary"
 ng-disabled="curPage >= persons.length/pageSize - 1"
 ng-click="curPage = curPage+1">Next</button>

            
             </div>

</form>
  
   </div>
 


<br/>
<br/>
<div class="row">
    



   <div class="col-lg-12" >

      <!-- START widget-->
      <div class="panel panel-default" ng-repeat="payslip in persons| pagination: curPage * pageSize | limitTo: pageSize">
         <div   id="printable"  class="panel-body" >

        <table class="table table-bordered-white" >
                            <tbody>
            <tr >
              <td  style="width:100%; text-align: center; font-weight: bold; font-size: 18px;" colspan="4">{{payslip.employer.employerName}}</td>
            </tr>                              
            <tr >
              <td class="boldTotal" style="width:25%;">Employee NO :</td>
              <td  style="width:25%; text-align: left;">{{payslip.payslipInfo.employeeNumber}}</td>
                        <td class="boldTotal" style="width:25%;"> Employee Name :</td>
                      <td class="text-right" style="width:25%; text-align: left;">{{payslip.payslipInfo.employeeName}}</td>
            </tr>
 
             
                     <tr >
                   
                        <td class="boldTotal" style="width:25%;"> Pin Number :</td>
                      <td class="text-right" style="width:25%; text-align: left;">{{payslip.payslipInfo.pinNumber}}</td>
                   
                        <td class="boldTotal" style="width:25%;"> NSSF Number :</td>
                      <td class="text-right" style="width:25%; text-align: left;">{{payslip.payslipInfo.nssfNumber}}</td>
                      
                    </tr>
 
                     <tr >
                   
                        <td class="boldTotal" style="width:25%;"> NHIF Number :</td>
                      <td class="text-right" style="width:25%; text-align: left;">{{payslip.payslipInfo.nhifNumber}}</td>
                 <td class="boldTotal " style="width:25%;"> Pay Period:</td>
                      <td class="text-right" style="width:25%;  text-align: left;">{{payslip.payslipInfo.period.month}} {{payslip.payslipInfo.period.year}}</td>
                      
                    </tr>
                   

                  </tbody>
                   

               </table>
           
           <div  style="border:1px solid #D3D3D3; width: 100%; "></div>

             
               <table class="table table-bordered-white" >

                  <tbody>
                         <tr>
                      <td class="boldTotal " style="width:50%;"> Earnings</td>
              <td class="text-right" style="width:25%;"></td>
              <td class="text-right" style="width:25%;"></td>  

            </tr>
          </tbody>
        </table>
        
           
               <table class="table table-bordered-white" >

                  <tbody>

                     <tr ng-repeat="earning in payslip.earnings.payslipCodeList">
                     <!--    <td >{{payslipcode.code}}</td> -->
                        <td class="" style="width:50%;">{{earning.description}}</td>
                        <td class="text-right" style="width:25%;">{{earning.amount}}</td>
              <td class="text-right" style="width:25%;"></td>
                       
                     </tr>
                   
                  </tbody>
               </table>
               
               <table class="table table-bordered-white">
                   
                
                  <tbody>
                    

                       <tr>
                     <!--    <td >{{payslipcode.code}}</td> -->
                        <td class="boldTotal" style="width:50%;" >Gross Pay</td>
                        <td class="boldTotal text-right" style="width:25%;" >{{payslip.grossPay}}</td>
              <td class="text-right" style="width:25%;"></td>
                       
                     </tr>
                  </tbody>
               </table>

         

            
               <table class="table table-bordered-white">
            

                  <tbody>
        
                    <tr>
                      <td class="boldTotal" style="width:50%;"> Tax Calculations</td>
                    
                    </tr>

          <tr ng-repeat="tax in payslip.taxCalculations.payslipCodeList">
                     <!--    <td >{{payslipcode.code}}</td> -->
                        <td class="" style="width:50%;">{{tax.description}}</td>
                        <td class="text-right" style="width:25%;">{{tax.amount}}</td>
              <td class="text-right" style="width:25%;"></td>
                       
                     </tr>
                  </tbody>
               </table>

       

        
               <table class="table table-bordered-white">

                  <tbody>
                     <tr>
                      <td class="boldTotal"  style="width:50%;"> Deductions</td>
                    
                    </tr>
                     <tr ng-repeat="deduction in payslip.deductions.payslipCodeList">
                     <!--    <td >{{payslipcode.code}}</td> -->
                        <td class="col-lg-3"  style="width:50%;">{{deduction.description}}</td>
                        <td style="text-align: right;" class="justify_right" style="width:25%;">{{deduction.amount}}</td>
                     </tr>
         <tr>
                         <td class="boldTotal" style="width:50%;">Total Deduction</td>
                        <td class="boldTotal text-right" style="width:25%;">{{payslip.totalDeduction}}</td>
              <td class="text-right" style="width:25%;"></td>
                      
                    </tr>
                      
                  </tbody>
               </table>

               <table class="table table-bordered-white">
                   
                
                  <tbody>
                    

                       <tr>
                     <!--    <td >{{payslipcode.code}}</td> -->
                        <td class="boldTotal" style="width:50%;">Net Pay</td>
                        <td class="boldTotal text-right" style="width:25%;">{{payslip.netPay}}</td>
              <td class="text-right" style="width:25%;"></td>

                     </tr>
                  </tbody>
               </table>

        
               <table class="table table-bordered-white">
                   

                  <tbody>
                    <tr >
                      <td class="boldTotal"> Benefits</td>
                    
                    </tr>
                    <tr ng-repeat="benefit in payslip.benefits.payslipCodeList">
                     <!--    <td >{{payslipcode.code}}</td> -->
                        <td class="" style="width:50%;" >{{benefit.description}}</td>
                        <td  class="text-right" style="width:25%;">{{benefit.amount}}</td>
              <td class="text-right" style="width:25%;"></td>
                       
                     </tr>

                       <tr ng-repeat="benefit in payslip.benefits.payslipCodeList">
                     <!--    <td >{{payslipcode.code}}</td> -->
                        <td class="boldTotal " style="width:50%;">Total Benefits</td>
                        <td  class="boldTotal text-right" style="width:25%;">{{payslip.totalBenefits}}</td>
              <td class="text-right" style="width:25%;"></td>
                     
                     </tr>
                  </tbody>
               </table>

        
               <table class="table table-bordered-white">

                  <tbody>
                    <tr style="width:100%">
                      <td class="boldTotal " style="width:50%;"> Company Contribution</td>
                    
                    </tr>
                    <tr ng-repeat="contributions in payslip.companyContributions
.payslipCodeList">
                     <!--    <td >{{payslipcode.code}}</td> -->
                        <td class="" style="width:50%;">{{contributions.description}}</td>
                        <td  class="text-right" style="width:25%;">{{contributions.amount}}</td>
              <td class="text-right" style="width:25%;"></td>
                     
                     </tr>

                  </tbody>
               </table>

               <div  style="border:1px solid #D3D3D3; width: 100%; "></div>

               <table class="table table-bordered-white">

                  <tbody>

                    <tr >
                     <!--    <td >{{payslipcode.code}}</td> -->
                        <td class="" style="width:25%;">Bank : </td>
                        <td  class="text-right" style="width:25%; text-align: left;">{{payslip.payslipInfo.bankName}}</td>
              <td class="text-right" style="width:25%;">Account Number</td>
              <td class="text-right" style="width:25%; text-align: left;">{{payslip.payslipInfo.accountNumber}}</td>                        
                     </tr>

                  </tbody>
               </table>

 

<div class="clearfix">
           
      
           <button class="btn btn-info pull-left mr" type="button" ng-click="printDiv('printable');"">Print</button>
     
        </div>
      </div>
         </div>
         
      </div>

       
      <!-- END widget-->


   </div>
   
 
</div>
</div>


 
        
   